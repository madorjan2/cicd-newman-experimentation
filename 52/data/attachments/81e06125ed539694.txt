// @allure.label.tag=API
// @allure.label.tag=ads
// @allure.label.tag=list
// @allure.label.tag=positive
// @allure.label.severity=CRITICAL

pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});

let jsonData = JSON.parse(responseBody);
pm.test("Response body is array.", function () {    
    pm.expect(jsonData).to.have.length.above(1);
});

pm.test("No inactive ads are shown.", function () {
    for (let responseDict of jsonData){
        pm.expect(responseDict.active).to.be.true;
    }
});

pm.test("Previous test(s) passed", function () {
    pm.expect(pm.environment.get('assertion_chain')).to.be.true;
});