// @allure.label.tag=ads
// @allure.label.tag=list
// @allure.label.tag=positive
// @allure.label.severity=NORMAL

let jsonData = JSON.parse(responseBody);

pm.test("All ads are shown with minimum price filter.", function () {
    for (let respDict of jsonData){
        pm.expect(respDict.price).to.be.at.most(pm.environment.get("max_price"))
    }
});

pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});

pm.test("Previous test(s) passed", function () {
    pm.expect(pm.environment.get('assertion_chain')).to.be.true;
});
